<!DOCTYPE html>

<html>

<head>
<style>
#heading{
	position: absolute;
	text-align: center;
	width: 100vw;
}
#info{
	position: absolute;
	text-align: left;
	left: 50px;
	bottom: 50px;
	color: yellow;
}
</style>
</head>
<body>

<div id='heading'>
<h1 style=color:pink>hw0:control the train by pressing the button below</h1>
<button id='toggle'> stop/launch </button>
</div>

<div id='info'>
<h1>學生：I3B40黃振綸</h1>
<h1>我的信箱：<a href="mailto:u10706240@ms.ttu.edu.tw">u10706240@ms.ttu.edu.tw</a></h1>
</div>

<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>

<script>
$('#toggle').click(
function() {
	turn = !turn;
});
<!-- my script
var renderer, camera, scene, train;
var axes, angle = 0, turn = true, sum=0;

init();
animate();

function init(){
	clock = new THREE.Clock();
	renderer = new THREE.WebGLRenderer ({antialias: true});
	renderer.setSize (window.innerWidth, window.innerHeight);
	renderer.setClearColor (0x888888);
	document.body.appendChild (renderer.domElement);
	
	camera = new THREE.PerspectiveCamera (50, window.innerWidth/window.innerHeight, 1, 10000);
	//camera.position.z = 50;
	camera.position.set (0, 300, 300);
	var controls = new THREE.OrbitControls (camera, renderer.domElement);
	
	scene = new THREE.Scene();
	var grid = new THREE.GridHelper (400, 30, 'red', 'white');
	scene.add (grid);
	
	axes = new THREE.AxesHelper (15);
	scene.add (axes);
	
	train = new THREE.Group();
	trainBody = new THREE.Mesh (new THREE.BoxGeometry (20,20,60), new THREE.MeshNormalMaterial());
	let chimney = new THREE.Mesh(new THREE.CylinderGeometry (4, 4, 20, 32), new THREE.MeshNormalMaterial());
	let head = new THREE.Mesh(new THREE.CylinderGeometry (9, 9, 30, 32), new THREE.MeshNormalMaterial());
	chimney.position.y = 10;
	chimney.position.z = -47;
	head.rotation.x = 77;
	head.position.z=-40;
	train.add (trainBody, chimney, head);
	scene.add (train);
	train.position.x = 50 * Math.cos(angle);
	train.position.z = 50 * Math.sin(angle);
}

function animate(){
	var radius = 50;
	var dt = clock.getDelta();
	train.position.y = 10;
	//train.position.set (radius* Math.cos(angle), 20, radius* Math.sin(angle));
	if(turn){
		angle -= 15.9*0.10472*dt;
		if(angle>-3.14){
			train.position.x = radius * Math.cos(angle);
			train.position.z = radius * Math.sin(angle);
			train.rotation.y = -angle;

		}
		else if(train.position.x <-49.5 && train.position.z < 100) {
			train.position.x = -50;
			angle = -Math.PI;
			train.rotation.y = -angle;
			train.position.z += 1.5;
		}
		else if(angle<-6.28){
			train.position.x = 50;
			angle = -Math.PI*2;
			train.rotation.y = -angle;
			train.position.z -= 1.5;
			if(train.position.z <= 0)
				angle = 0;
		}
		else{
			train.position.x = radius * Math.cos(angle);
			train.position.z = radius * Math.sin(angle) +100;
			train.rotation.y = -angle;
		}
		sum+=dt;
		if(sum >=6){ // 6 secs a lap
			sum = 0;
			angle = 0;
		}
		console.log (sum);
		//console.log (train.position.x);
		//console.log (train.position.z);
		//console.log (angle);
		//console.log (angle);
	}
	renderer.render (scene, camera);
	requestAnimationFrame (animate);
}
-->
</script>

</body>

</html>
